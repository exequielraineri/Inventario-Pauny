<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        -->
        <script src="https://kit.fontawesome.com/a157f31727.js" crossorigin="anonymous"></script>

        <!-- Latest compiled and minified CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- Latest compiled JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


        <link rel="stylesheet" th:href="@{/css/style.css}">


    </head>
    <body>

        <div th:include="plantilla/plantilla_admin::header"></div>
        <div class="container">

            <hr>
            <div class="bloque">
                <div class="div-clientes shadow-sm">
                    <i class="fa-solid fa-boxes-stacked icono"></i>
                    <label class="label-bloque">Productos</label>
                    <span class="cantidad" th:text="${cant_productos}">20</span>
                </div>

                <div class="div-clientes shadow-sm">
                    <i class="fa-solid fa-boxes-stacked icono"></i>
                    <label class="label-bloque">Ventas</label>
                    <span class="cantidad" th:text="${cant_ventas}">20</span>
                </div>

                <div class="div-clientes shadow-sm">
                    <i class="fa-solid fa-boxes-stacked icono"></i>
                    <label class="label-bloque">Clientes</label>
                    <span class="cantidad" th:text="${cant_clientes}">20</span>
                </div>
            </div>
            <hr>
            <div>
                <h2>Bienvenido! Santiago</h2>
                <p>Este es tu panel de información</p>
            </div>
            <hr>
            <div class="dash">
                <div class="dash-panel">
                    <div class="container">
                        <h2 align="center">Gráfico de Ventas</h2>

                        <div id="grafico1"
                             style="width: 550px; height: 400px; margin: 0 auto"></div>
                    </div>


                </div>
                <div class="dash-perfil container">
                    
                    <div class="container">
                        <h2 align="center">Gráfico de Productos</h2>

                        <div id="grafico2"
                             style="width: 550px; height: 400px; margin: 0 auto"></div>
                    </div>
                    <hr>
                    <div class="card">
                        <div class="card-header">
                            <h5>Información del Usuario</h5>
                        </div>
                        <div class="card-body row">
                            <div class="col">
                                <label class="form-label" style="font-weight: 500">Nombre: </label> <span class="form-control-sm" th:text="${session.usuario.nombre}+', ' +${session.usuario.apellido}"></span><br>
                                <label class="form-label" style="font-weight: 500">Email: </label> <span th:text="${session.usuario.email}" ></span><br>
                                <label class="form-label" style="font-weight: 500">Rol: </label> <span th:text="${session.usuario.rol}" ></span><br>
                                <label class="form-label" style="font-weight: 500">Usuario: </label> <span th:text="${session.usuario.user}" ></span><br>
                                <label class="form-label" style="font-weight: 500">Contraseña: </label> <span th:text="${session.usuario.password}" ></span><br>

                            </div>
                        </div>
                        <div class="card-footer" style="display: flex; justify-content: end">
                            <button class="btn btn-secondary">Cambiar Contraseña</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div th:include="plantilla/plantilla_admin::footer"></div>



        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script> 



        <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script th:inline="javascript">
            $(function(){
            Highcharts.chart('grafico1', {
            chart: {
            type: 'column'
            },
                    title: {
                    text: 'Ventas en el Mes'
                    },
                    subtitle: {
                    text: 'All Details is not true its a dummy Map'
                    },
                    xAxis: {
                    categories: [[${mapeoVentas.keySet()}]],
                            crosshair: true
                    },
                    yAxis: {
                    min: 0,
                            max:30,
                            title: {
                            text: 'Cantidad de ventas'
                            }
                    },
                    tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
                            footerFormat: '</table>',
                            shared: true,
                            useHTML: true
                    },
                    plotOptions: {
                    column: {
                    pointPadding: 0.2,
                            borderWidth: 0
                    }
                    },
                    series: [{
                    name: 'Mes',
                            data: [[${mapeoVentas.values()}]]
                    }]
            });
            });
        </script>


        
        <script th:inline="javascript">
            $(function(){
            Highcharts.chart('grafico2', {
            chart: {
            type: 'column'
            },
                    title: {
                    text: 'Productos más vendidos'
                    },
                    subtitle: {
                    text: 'All Details is not true its a dummy Map'
                    },
                    xAxis: {
                    categories: [[${mapeoProductos.keySet()}]],
                            crosshair: true
                    },
                    yAxis: {
                    min: 0,
                            max:30,
                            title: {
                            text: 'Cantidad de productos vendidos'
                            }
                    },
                    tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>',
                            footerFormat: '</table>',
                            shared: true,
                            useHTML: true
                    },
                    plotOptions: {
                    column: {
                    pointPadding: 0.2,
                            borderWidth: 0
                    }
                    },
                    series: [{
                    name: 'Producto',
                            data: [[${mapeoProductos.values()}]]
                    }]
            });
            });
        </script>
        
    </body>
</html>
